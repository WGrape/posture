#!/bin/sh
if [ "${POSTUREPATH}" == "" ]; then
  echo "You missed the configuration of POSTUREPATH"
  exit 1
fi
. $POSTUREPATH/include/function.sh

COMMAND=$1
if [ "${COMMAND}" == "sethook" ]; then
  sethook $POSTUREPATH
elif [ "${COMMAND}" == "unsethook" ]; then
  unsethook
elif [ "${COMMAND}" == "adjust" ]; then
  checkConfig && adjust
elif [ "${COMMAND}" == "info" ]; then
  showInfo
elif [ "${COMMAND}" == "update" ]; then
  updateVersion
elif [ "${COMMAND}" == "help" ] || [ "${COMMAND}" == "" ]; then
  printLogo

  echo "Here is support commands"
  echo "  sethook: set the global git hooks"
  echo "  adjust: adjust the code specification"
  echo "  update: update to latest version"
  echo "  info: show the information of posture"
  echo "  help: view help"
else
  echo "Unknown command: ${COMMAND}"
fi
